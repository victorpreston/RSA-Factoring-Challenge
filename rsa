#!/usr/bin/python3
from sympy import isprime, factorint
import sys

def factorize_rsa_number(n):
    # Check if the number is prime
    if isprime(n):
        print(f"{n} is already a prime number.")
        return

    # Factorize the number
    factors = factorint(n)

    # Check if there are exactly two prime factors
    if len(factors) != 2 or not all(isprime(f) for f in factors):
        print(f"Not a valid RSA number: {n}")
        return

    p, q = factors.keys()
    print(f"{n}={p}*{q}")

def main(filename):
    with open(filename, 'r') as file:
        for line in file:
            n = int(line.strip())
            factorize_rsa_number(n)

if __name__ == "__main__":
    if len(sys.argv) != 2:
        print("Usage: python rsa_factoring.py <filename>")
    else:
        main(sys.argv[1])

